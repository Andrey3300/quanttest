# üîç –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –≥—Ä–∞—Ñ–∏–∫–æ–º

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ `chart.js`:

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞** (—Å—Ç—Ä–æ–∫–∞ ~365)
   - **–ë—ã–ª–æ:** `from: this.candleCount - 1 - visibleBarsWidth`
   - **–°—Ç–∞–ª–æ:** `from: Math.max(0, this.candleCount - 1 - visibleBarsWidth + rightOffsetBars)`
   - –¢–µ–ø–µ—Ä—å `from` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º

2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å—á–µ—Ç–æ–º —à–∏—Ä–∏–Ω—ã –¥–∏–∞–ø–∞–∑–æ–Ω–∞** (—Å—Ç—Ä–æ–∫–∞ ~360)
   - **–ë—ã–ª–æ:** `visibleBarsWidth = currentRange.to - currentRange.from - rightOffsetBars`
   - **–°—Ç–∞–ª–æ:** `visibleBarsWidth = currentRange.to - currentRange.from`
   - –£–±—Ä–∞–ª–∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ rightOffset, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω–µ

3. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞** (—Å—Ç—Ä–æ–∫–∞ ~375)
   ```javascript
   if (newFrom < 0 || newTo < 0 || newFrom >= newTo) {
       // –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É –∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
   }
   ```

4. **–î–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** (—Å—Ç—Ä–æ–∫–∞ ~53)
   ```javascript
   rightPriceScale: {
       autoScale: true,  // –Ω–æ–≤–æ–µ
       alignLabels: true, // –Ω–æ–≤–æ–µ
   }
   ```

### ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–∞ –º–æ–¥—É–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- **Frontend:** `frontend/logger.js`
- **Backend:** `backend/errorLogger.js`

## –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –ª–æ–≥–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

1. –ù–∞–∂–º–∏—Ç–µ `F12` –∏–ª–∏ `Ctrl+Shift+I` (Windows/Linux) / `Cmd+Option+I` (Mac)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Console**

### –®–∞–≥ 2: –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –≥—Ä–∞—Ñ–∏–∫ –Ω–µ —Å—Ö–ª–æ–ø–Ω–µ—Ç—Å—è

### –®–∞–≥ 3: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏

–í –∫–æ–Ω—Å–æ–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
exportLogsText()
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è —Ñ–∞–π–ª `chart-debug-logs-*.txt`

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ backend –ª–æ–≥–∏

–ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `backend/logs/`:
- `chart-debug.log` - –≤—Å–µ –ª–æ–≥–∏
- `chart-errors.log` - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏

### –®–∞–≥ 5: –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
1. ‚úÖ –°–∫–∞—á–∞–Ω–Ω—ã–π `chart-debug-logs-*.txt`
2. ‚úÖ `backend/logs/chart-debug.log`
3. ‚úÖ `backend/logs/chart-errors.log`
4. ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–æ–±–ª–µ–º—ã

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª–∏

```javascript
// –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ª–æ–≥–æ–≤
logStats()

// –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
window.errorLogger.filter({ level: 'error', category: 'range' })

// –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ª–æ–≥–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
window.errorLogger.filter({ category: 'range' })

// –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 –ª–æ–≥–æ–≤
window.errorLogger.logs.slice(-100)

// –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
clearLogs()
```

## –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:

```
[ERROR][range] Invalid range calculated!
```
–£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É —Å —Ä–∞—Å—á–µ—Ç–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–∞

```
[ERROR][candle] Invalid OHLC data detected
```
–£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–≤–µ—á–µ–π

```
[ERROR][chart] Invalid candle time format
```
–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏

### üü° –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:

```
[WARN][range] No current range available
```
–ì—Ä–∞—Ñ–∏–∫ –µ—â–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

```
[WARN][candle] Ignoring outdated tick
```
–ü–æ–ª—É—á–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)

### üîµ –ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

```
[DEBUG][range] Before scroll calculation
```
–î–µ—Ç–∞–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ–¥ –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π

```
[DEBUG][range] Scroll calculation result
```
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–æ–≤

## –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≥—Ä–∞—Ñ–∏–∫ –¥–æ–ª–∂–µ–Ω:
- ‚úÖ –ù–ï —Å—Ö–ª–æ–ø—ã–≤–∞—Ç—å—Å—è –≤ –ª–∏–Ω–∏—é
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ Y
- ‚úÖ –ü–ª–∞–≤–Ω–æ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å—ë –µ—â—ë –≤–æ–∑–Ω–∏–∫–∞–µ—Ç

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏ –≤–∏–¥–∞:

```
[ERROR][range] Invalid range calculated!
  Data: {
    "newRange": { "from": X, "to": Y },
    "candleCount": Z,
    "currentRange": { ... }
  }
```

–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–º–æ–≥—É—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É.

---

**–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

```bash
# Terminal 1 - Backend
cd backend
npm install
npm start

# Terminal 2 - –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
# http://localhost:3001
```

–õ–æ–≥–∏ —Å—Ä–∞–∑—É –Ω–∞—á–Ω—É—Ç —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
