# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–∞–π–º–µ—Ä–∞ –∏ –∑–∞–≤–∏—Å–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### 1. –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
**–°–∏–º–ø—Ç–æ–º—ã:**
- –¢–∞–π–º–µ—Ä –≤ —É–≥–ª—É –ø–æ–∫–∞–∑—ã–≤–∞–ª –≤—Ä–µ–º—è –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—â–µ–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–≤–µ—á–µ–π
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ M3 —Ç–∞–π–º–µ—Ä –æ—Ç—Å—á–∏—Ç—ã–≤–∞–ª 2:59 ‚Üí 0:00 ‚Üí —Å–Ω–æ–≤–∞ 2:59, –Ω–æ —Å–≤–µ—á–∞ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ ~2:30

**–ü—Ä–∏—á–∏–Ω–∞:**
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å—á–∏—Ç–∞–ª –≤—Ä–µ–º—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –Ω–µ –∑–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ `candleStartTime` —Å –±—ç–∫–µ–Ω–¥–∞
- –ë—ç–∫–µ–Ω–¥ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª —Å–≤–µ—á–∏ –ø–æ —Å–≤–æ–µ–º—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –ù–µ –±—ã–ª–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ç–∞—Ä—Ç–∞ —Å–≤–µ—á–∏ –Ω–∞ –±—ç–∫–µ –∏ —Ç–∞–π–º–µ—Ä–æ–º –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ

### 2. –ó–∞–≤–∏—Å–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞—Ö
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ M3, M5, M10 –∏ —Ç.–¥. –≥—Ä–∞—Ñ–∏–∫ "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–ª—Å—è"
- –ì—Ä–∞—Ñ–∏–∫ –Ω–∞—á–∏–Ω–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
- –í –∫–æ–Ω—Å–æ–ª–∏: `currentCandleByTimeframe was NULL - initializing from tick`

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Å–∏–º–≤–æ–ª–∞/—Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –ø–æ–ª—É—á–∞–ª —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤–µ—á–∏
- `currentCandleByTimeframe` –æ—Å—Ç–∞–≤–∞–ª—Å—è NULL –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Ç–∏–∫–∞
- –ü–µ—Ä–≤—ã–µ —Ç–∏–∫–∏ –æ—Ç–∫–ª–æ–Ω—è–ª–∏—Å—å –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## –†–µ—à–µ–Ω–∏–µ

### Backend (server.js)

#### 1. –û—Ç–ø—Ä–∞–≤–∫–∞ currentState –ø—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ
–ü—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ `symbol:timeframe` —Å–µ—Ä–≤–µ—Ä —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

```javascript
// –ü—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ –ø–æ–ª—É—á–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é —Å–≤–µ—á—É
const generator = getGenerator(symbol, timeframe);

if (generator && generator.candles && generator.candles.length > 0) {
  let currentCandle = null;
  
  // –î–ª—è S5 - –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–∞—è —Å–≤–µ—á–∞
  if (timeframe === 'S5') {
    currentCandle = generator.candles[generator.candles.length - 1];
  } else {
    // –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤ - —Ç–µ–∫—É—â–∞—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–≤–µ—á–∞
    if (generator.aggregator && generator.aggregator.currentAggregatedCandle) {
      currentCandle = generator.aggregator.currentAggregatedCandle;
    } else if (generator.candles.length > 0) {
      currentCandle = generator.candles[generator.candles.length - 1];
    }
  }
  
  if (currentCandle) {
    const timeframeSeconds = TIMEFRAMES[timeframe]?.seconds || 5;
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º snapshot
    ws.send(JSON.stringify({
      type: 'currentState',
      symbol,
      timeframe,
      candle: currentCandle,
      candleStartTime: currentCandle.time,
      timeframeSeconds: timeframeSeconds,
      serverTime: Math.floor(Date.now() / 1000)
    }));
  }
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**
- –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
- –ì—Ä–∞—Ñ–∏–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ä–∞–∑—É, –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- –¢–∞–π–º–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º —Å–≤–µ—á–∏

### Frontend (chart.js)

#### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ currentState —Å–æ–æ–±—â–µ–Ω–∏—è
–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ `currentState` –∫–ª–∏–µ–Ω—Ç:

```javascript
if (message.type === 'currentState') {
  // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â—É—é —Å–≤–µ—á—É –Ω–∞ –≥—Ä–∞—Ñ–∏–∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
  if (message.candle) {
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º currentCandleByTimeframe –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
    if (this.chartType !== 'line' && this.timeframe !== 'S5') {
      this.currentCandleByTimeframe = { ...message.candle };
    }
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–≤–µ—á—É –Ω–∞–ø—Ä—è–º—É—é (–±—ã—Å—Ç—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
    this.applyTickDirectly(message.candle, false);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
    this.lastCandle = message.candle;
    this.currentInterpolatedCandle = { ...message.candle };
    
    // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Ç–∞–π–º–µ—Ä
    if (window.chartTimeframeManager) {
      window.chartTimeframeManager.syncWithServer(
        message.candleStartTime,
        message.timeframeSeconds,
        message.serverTime
      );
    }
  }
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**
- `currentCandleByTimeframe` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å—Ä–∞–∑—É
- –ì—Ä–∞—Ñ–∏–∫ "—Ä–∞–∑–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è" –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- –¢–∞–π–º–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º

#### 2. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Ä–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞
–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–∏–∫–æ–≤:

```javascript
if (message.type === 'tick') {
  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ä–∞–∑ –≤ 10 —Å–µ–∫—É–Ω–¥
  if (!this.lastTimerSync || (Date.now() - this.lastTimerSync) > 10000) {
    window.chartTimeframeManager.syncWithServer(
      message.data.time,
      timeframeSeconds,
      serverTime
    );
    this.lastTimerSync = Date.now();
  }
  
  this.updateCandle(message.data, false);
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**
- –¢–∞–π–º–µ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–∏ –¥–æ–ª–≥–æ–π —Ä–∞–±–æ—Ç–µ
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –¥—Ä–µ–π—Ñ–∞ —á–∞—Å–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞/—Å–µ—Ä–≤–µ—Ä–∞

### Frontend (chartTimeframe.js)

#### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `syncWithServer`:

```javascript
syncWithServer(candleStartTime, timeframeSeconds, serverTime) {
  this.serverCandleStartTime = candleStartTime;
  this.serverTimeframeSeconds = timeframeSeconds;
  
  // –í—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä
  const clientTime = Math.floor(Date.now() / 1000);
  this.serverTimeDelta = (serverTime - clientTime) * 1000;
  
  console.log(`üïê Timer synced: candle starts at ${candleStartTime}, duration ${timeframeSeconds}s`);
}
```

#### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
–¢–∞–π–º–µ—Ä —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞:

```javascript
getTimeUntilCandleClose(timeframe = this.currentTimeframe) {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
  if (this.serverCandleStartTime !== null && this.serverTimeframeSeconds !== null) {
    const now = this.getCurrentServerTime();
    const candleEndTime = this.serverCandleStartTime + this.serverTimeframeSeconds;
    const remaining = candleEndTime - now;
    
    return Math.max(0, remaining);
  }
  
  // Fallback –∫ —Å—Ç–∞—Ä–æ–º—É –º–µ—Ç–æ–¥—É
  const now = Math.floor(Date.now() / 1000);
  const endTime = this.getCandleEndTime(now, timeframe);
  return endTime - now;
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**
- –¢–∞–π–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–≤–µ—á–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–≤–µ—á–µ–π –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –ù–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ç–∞–π–º–µ—Ä–æ–º –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–≤–µ—á–µ–π

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–¢–∞–π–º–µ—Ä —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ —Ç–µ–ø–µ—Ä—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –±—ç–∫–µ–Ω–¥–æ–º**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–≤–µ—á–∏
   - –°–≤–µ—á–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ä–æ–≤–Ω–æ –∫–æ–≥–¥–∞ —Ç–∞–π–º–µ—Ä –¥–æ—Ö–æ–¥–∏—Ç –¥–æ 0:00
   - –ù–µ—Ç —Å–¥–≤–∏–≥–∞ –≤ 30 —Å–µ–∫—É–Ω–¥ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π

2. **–ì—Ä–∞—Ñ–∏–∫ –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –¥–ª–∏–Ω–Ω—ã–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã**
   - –ü—Ä–∏ —Å–º–µ–Ω–µ —Å–∏–º–≤–æ–ª–∞/—Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –≥—Ä–∞—Ñ–∏–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ä–∞–∑—É
   - `currentCandleByTimeframe` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
   - –ù–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞

3. **–ë—ã—Å—Ç—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å–º–µ–Ω–µ –∞–∫—Ç–∏–≤–∞**
   - –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç snapshot —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ
   - –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
   - –¢–∞–π–º–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ù–æ–≤—ã–µ WebSocket —Å–æ–æ–±—â–µ–Ω–∏—è:

#### `currentState` (server ‚Üí client)
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ symbol:timeframe

```javascript
{
  type: 'currentState',
  symbol: 'EUR_USD_OTC',
  timeframe: 'M3',
  candle: {
    time: 1761375960,
    open: 1.0318,
    high: 1.0320,
    low: 1.0315,
    close: 1.0318,
    volume: 0
  },
  candleStartTime: 1761375960,  // –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–≤–µ—á–∏
  timeframeSeconds: 180,         // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
  serverTime: 1761376040         // –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞
}
```

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:

#### Frontend:
- `ChartTimeframeManager.syncWithServer(candleStartTime, timeframeSeconds, serverTime)` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
- `ChartTimeframeManager.getCurrentServerTime()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

#### Backend:
- –†–∞—Å—à–∏—Ä–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ `subscribe` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ `currentState`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   npm start
   ```

2. **–¢–µ—Å—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–∞–π–º–µ—Ä–∞:**
   - –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –í—ã–±—Ä–∞—Ç—å —Ç–∞–π–º—Ñ—Ä–µ–π–º M3
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–∞–π–º–µ—Ä –æ—Ç—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–æ–≤–∞—è —Å–≤–µ—á–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ —Ç–∞–π–º–µ—Ä –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 0:00

3. **–¢–µ—Å—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞:**
   - –í—ã–±—Ä–∞—Ç—å —Ç–∞–π–º—Ñ—Ä–µ–π–º M3 –∏–ª–∏ M5
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π –∞–∫—Ç–∏–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å EUR/USD –Ω–∞ GBP/USD)
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≥—Ä–∞—Ñ–∏–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ä–∞–∑—É, –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫ `currentCandleByTimeframe was NULL`

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
   - –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Console
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `‚úÖ Received current state` –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `üïê Timer synced` –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ currentState
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Ç–∏–∫–æ–≤

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –¥—Ä–µ–π—Ñ–∞ —á–∞—Å–æ–≤
–¢–∞–π–º–µ—Ä —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –≤—Ä–µ–º–µ–Ω–µ–º –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞ (`serverTimeDelta`), —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø—Ä–∏ —Ä–∞–∑–Ω–∏—Ü–µ —á–∞—Å–æ–≤.

### –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Ä–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
–ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–∏–∫–∞ —Ç–∞–π–º–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é, —á—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ –¥–æ–ª–≥–æ–π —Ä–∞–±–æ—Ç–µ.

### Fallback –º–µ—Ö–∞–Ω–∏–∑–º
–ï—Å–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, —Ç–∞–π–º–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∫–ª–∏–µ–Ω—Ç–∞ (—Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥).

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-10-25  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
